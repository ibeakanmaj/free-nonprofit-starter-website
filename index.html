<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PUVELA — Pioneering Universal Values Empowering Livelihood Aid</title>
  <meta name="description" content="PUVELA — Pioneering Universal Values Empowering Livelihood Aid." />
  <!-- Inline favicon (SVG data URI) -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#0ea5e9"/><stop offset="1" stop-color="#10b981"/></linearGradient></defs><rect x="4" y="4" width="56" height="56" rx="14" fill="%230f1b28"/><path d="M18 40c0-12 10-22 22-22" stroke="url(%23g)" stroke-width="6" stroke-linecap="round" fill="none"/><circle cx="40" cy="26" r="5" fill="url(%23g)"/></svg>' />
  <style>
    /* PUVELA — single-file preview (highly responsive, lively, accessible) */
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{--header-h:72px;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial;overflow-x:hidden}

    :root{--bg:#ffffff;--surface:#ffffff;--text:#0f172a;--muted:#475569;--primary:#0ea5e9;--accent:#10b981;--card:#ffffff;--border:rgba(0,0,0,0.06);--shadow:0 8px 30px rgba(2,8,23,.08)}
    :root.dark{--bg:#0b0f14;--surface:#0f1620;--text:#eef2f7;--muted:#a8b7c8;--primary:#22d3ee;--accent:#12b981;--card:#0f1b28;--border:rgba(255,255,255,0.08);--shadow:0 10px 38px rgba(0,0,0,.45)}

    a{color:var(--primary);text-decoration:none}
    a:hover{text-decoration:underline}
    img{max-width:100%;display:block}
    .container{max-width:1200px;width:min(1200px,94vw);margin:0 auto;padding:0 2vw}
    .container-wide{max-width:1400px;width:min(1400px,98vw);margin:0 auto}
    .full-bleed{width:100vw;margin-left:50%;transform:translateX(-50%)}
    section[id]{scroll-margin-top:calc(var(--header-h) + 18px)}
    .balance{text-wrap:balance}
    .measure{max-width:65ch}
    .measure-xl{max-width:30ch}
    p,li{overflow-wrap:anywhere;word-break:break-word;hyphens:auto}

    /* Type scale */
    h1{font-size:clamp(1.9rem,1.2rem + 3.4vw,3.2rem);line-height:1.12;margin:.3em 0 .2em}
    h2{font-size:clamp(1.3rem,1rem + 2.0vw,2.05rem);margin:.2em 0 .5em}
    h3{font-size:clamp(1.08rem,.95rem + 1.1vw,1.4rem);margin:.2em 0 .2em}

    /* Header / Nav */
    .site-header{position:sticky;top:0;z-index:60;background:rgba(255,255,255,.93);backdrop-filter:blur(12px);box-shadow:var(--shadow)}
    :root.dark .site-header{background:rgba(11,15,20,.75)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:12px;min-height:var(--header-h)}
    .brand{display:inline-flex;align-items:center;gap:10px;font-weight:800;color:var(--text)}
    .nav-cta{display:flex;align-items:center;gap:8px}
    .theme-toggle{display:inline-flex;align-items:center;gap:6px;padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:var(--surface);color:var(--text);box-shadow:var(--shadow);cursor:pointer}
    .theme-toggle .txt{display:none}
    .primary-nav{display:flex;align-items:center;gap:8px}
    .primary-nav a{padding:8px 10px;border-radius:10px}
    .burger{display:none;background:none;border:0;padding:8px;border-radius:8px}
    .burger span{display:block;width:22px;height:2px;background:var(--text);margin:5px 0}
    .dropdown{position:relative}
    .dropbtn{background:transparent;border:1px solid var(--border);padding:8px 10px;border-radius:10px;color:var(--text);cursor:pointer}
    .dropdown-menu{position:absolute;top:calc(100% + 8px);left:0;display:none;min-width:220px;background:var(--surface);box-shadow:var(--shadow);border-radius:12px;border:1px solid var(--border);padding:8px}
    .dropdown-menu a{display:block;padding:8px 10px;border-radius:8px}
    .dropdown:hover .dropdown-menu{display:block}
    .dropdown.open .dropdown-menu{display:block}

    /* Buttons */
    .btn{display:inline-block;padding:10px 16px;border:1px solid var(--border);border-radius:12px;color:var(--text);background:transparent;transition:transform .12s ease, box-shadow .12s ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--primary));border:0;color:#06211a}
    .btn.small{padding:8px 12px;border-radius:10px}

    /* Reading progress */
    .reading{position:absolute;left:0;bottom:-1px;width:100%;height:3px;background:transparent}
    .reading::-webkit-progress-bar{background:transparent}
    .reading::-webkit-progress-value{background:linear-gradient(90deg,var(--accent),var(--primary))}

    /* Hero */
    .hero{min-height:calc(74vh - env(safe-area-inset-top));display:grid;place-items:center;background-image:var(--hero);background-size:cover;background-position:center}
    .hero:before{content:"";position:absolute;inset:0;background:
      radial-gradient(600px 400px at 10% 20%, rgba(255,255,255,.18), transparent 60%),
      radial-gradient(500px 300px at 90% 10%, rgba(16,185,129,.18), transparent 65%),
      radial-gradient(420px 300px at 30% 90%, rgba(14,165,233,.16), transparent 60%);
      pointer-events:none;mix-blend:overlay}
    .hero-overlay{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.82), rgba(255,255,255,0.12));padding:calc(var(--header-h) + 26px) 0 56px}
    :root.dark .hero-overlay{background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.18))}
    .hero-grid{display:grid;grid-template-columns:1.25fr .75fr;gap:min(3vw,24px);align-items:center}
    .tagline{font-weight:700;color:var(--primary);margin-top:0}
    .lead{color:var(--muted)}
    .trust-row{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);margin-top:6px}
    .hero-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:var(--shadow)}

    /* Sections */
    .section{padding:56px 0}
    .section.alt{background:linear-gradient(180deg, rgba(16,185,129,0.08), rgba(14,165,233,0.08))}
    .two-col{display:grid;grid-template-columns:1.1fr .9fr;gap:min(3vw,24px);align-items:start}

    /* Cards & grids */
    .cards{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:min(3vw,16px)}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:var(--shadow)}

    /* Programs with overlay captions */
    .program-figure{position:relative;overflow:hidden}
    .program-figure img{width:100%;height:280px;object-fit:cover;display:block;transform:scale(1.02);transition:transform .6s ease}
    .program-figure .overlay{position:absolute;inset:auto 0 0 0;padding:14px 14px 16px;background:linear-gradient(180deg, transparent, rgba(0,0,0,.55));color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.35)}
    .program-figure h3{margin:0 0 4px 0}
    .program-figure p{margin:0 0 8px 0}
    .overlay-btn{display:inline-block;background:rgba(255,255,255,.92);color:#06211a;padding:6px 10px;border-radius:10px;text-decoration:none}
    .program-figure:hover img{transform:scale(1.06)}

    /* Impact */
    .impact-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:min(3vw,16px)}
    .impact-card{background:var(--card);border:1px solid var(--border);padding:16px;border-radius:16px;text-align:center;box-shadow:var(--shadow)}
    .impact-number{font-size:clamp(1.25rem,.9rem + 1.2vw,1.8rem);font-weight:800}
    .impact-label{color:var(--muted)}

    /* Gallery + Lightbox */
    .gallery{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:min(2vw,10px)}
    .gallery img{width:100%;height:240px;object-fit:cover;border-radius:12px;cursor:pointer}
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:grid;place-items:center;z-index:70}
    .lightbox[hidden]{display:none}
    .lightbox img{max-width:92vw;max-height:86vh;border-radius:12px}
    .lightbox-close{position:absolute;top:20px;right:24px;font-size:28px;border:0;background:#fff;border-radius:8px;padding:4px 10px;cursor:pointer}

    /* Forms */
    .subscribe-form{display:grid;grid-template-columns:1fr auto;gap:10px;margin-top:8px}
    .subscribe-form label{grid-column:1/-1;color:var(--muted)}
    .subscribe-form input{padding:12px;border-radius:12px;border:1px solid var(--border);background:#f8fafc;color:#0f172a}
    :root.dark .subscribe-form input{background:#0b1520;color:var(--text)}

    /* Footer */
    .site-footer{padding:36px 0;background:linear-gradient(180deg, rgba(14,165,233,0.08), rgba(16,185,129,0.08))}
    .footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:16px}
    .footer-grid h4{margin:0 0 8px 0}
    .footer-grid ul{list-style:none;margin:0;padding:0}
    .footer-grid li{margin:6px 0}
    .footer-grid a{color:var(--text)}

    /* Back to top */
    .to-top{position:fixed;right:20px;bottom:20px;border:1px solid var(--border);background:var(--surface);color:var(--text);border-radius:999px;padding:10px 12px;opacity:0;pointer-events:none;box-shadow:var(--shadow)}
    .to-top.show{opacity:1;pointer-events:auto}

    /* Randomized animations (reduced motion safe) */
    @media (prefers-reduced-motion:no-preference){
      [data-animate]{opacity:.001;transform:translateY(12px);transition:opacity .75s ease, transform .75s ease}
      [data-animate].in{opacity:1;transform:none}
      .anim-rise{transform:translateY(18px)}
      .anim-left{transform:translateX(18px)}
      .anim-right{transform:translateX(-18px)}
      .anim-zoom{transform:scale(.94)}
      .anim-tilt{transform:rotate(-1.2deg) translateY(12px)}
      .anim-float{transform:translateY(8px) scale(.98)}
      [data-animate].in.anim-zoom,[data-animate].in.anim-tilt,[data-animate].in.anim-float{transform:none}
    }

    /* Responsive polish */
    @media (max-width:1100px){
      .hero-grid{grid-template-columns:1fr}
      .cards{grid-template-columns:repeat(2,1fr)}
      .impact-grid{grid-template-columns:repeat(2,1fr)}
      .gallery{grid-template-columns:repeat(3,1fr)}
      .footer-grid{grid-template-columns:1fr 1fr 1fr}
    }
    @media (max-width:700px){
      .container{width:min(100%,94vw);padding:0 3vw}
      .theme-toggle .txt{display:inline}
      .cards,.impact-grid{grid-template-columns:1fr}
      .gallery{grid-template-columns:repeat(2,1fr)}
      .two-col{grid-template-columns:1fr}
      .burger{display:inline-flex}
      .primary-nav{position:fixed;inset:calc(var(--header-h)) 0 0 auto;transform:translateX(110%);transition:transform .25s ease;background:var(--surface);box-shadow:var(--shadow);padding:14px;display:grid;gap:10px;max-width:320px;border-left:1px solid var(--border)}
      body.nav-open .primary-nav{transform:translateX(0)}
      .dropdown:hover .dropdown-menu{display:none}
      .dropdown-menu{position:static;display:none;margin-top:-4px}
      .dropdown.open .dropdown-menu{display:block}
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="#home" aria-label="Homepage">
        <svg width="28" height="28" viewBox="0 0 64 64" aria-hidden="true"><defs><linearGradient id="g2" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#0ea5e9"/><stop offset="1" stop-color="#10b981"/></linearGradient></defs><rect x="4" y="4" width="56" height="56" rx="14" fill="#0f1b28"/><path d="M18 40c0-12 10-22 22-22" stroke="url(#g2)" stroke-width="6" stroke-linecap="round" fill="none"/><circle cx="40" cy="26" r="5" fill="url(#g2)"/></svg>
        <span>PUVELA</span>
      </a>
      <div class="nav-cta">
        <button class="theme-toggle" id="theme-toggle" aria-pressed="false" aria-label="Toggle theme">
          <span class="sun" aria-hidden="true">☀</span>
          <span class="moon" aria-hidden="true">🌙</span>
          <span class="txt">Theme</span>
        </button>
        <button class="burger" aria-expanded="false" aria-controls="primary-nav" aria-label="Open menu">
          <span></span><span></span><span></span>
        </button>
      </div>
      <nav id="primary-nav" class="primary-nav">
        <a href="#about">About</a>
        <div class="dropdown">
          <button class="dropbtn" aria-haspopup="true" aria-expanded="false">Programs</button>
          <div class="dropdown-menu" role="menu">
            <a role="menuitem" href="#programs">Overview</a>
            <a role="menuitem" href="#impact">Impact</a>
            <a role="menuitem" href="#news">News & Stories</a>
            <a role="menuitem" href="#gallery">Gallery</a>
            <a role="menuitem" href="#faq">FAQ</a>
          </div>
        </div>
        <a href="#community">Community</a>
        <a href="#subscribe" class="btn small">Subscribe</a>
        <a href="#donate" class="btn primary small">Donate</a>
      </nav>
    </div>
    <progress class="reading" value="0" max="100" aria-hidden="true"></progress>
  </header>

  <main id="main">
    <section class="hero full-bleed" id="home" style="--hero:url('https://source.unsplash.com/1600x900/?community,volunteer')">
      <div class="hero-overlay">
        <div class="container hero-grid">
          <div class="hero-copy" data-animate>
            <h1 class="balance measure-xl">PUVELA</h1>
            <p class="tagline balance">Pioneering Universal Values Empowering Livelihood Aid</p>
            <p class="lead measure">We work with communities to deliver practical support, protect lives and property, strengthen social systems, and produce data-driven insights.</p>
            <div class="cta-row">
              <a href="#donate" class="btn primary">Donate</a>
              <a href="#programs" class="btn">Our Programs</a>
            </div>
            <div class="trust-row" aria-label="Trust indicators">
              <div class="trust-item">✔ Transparency-first</div>
              <div class="trust-item">✔ Community-led</div>
              <div class="trust-item">✔ Open data</div>
            </div>
          </div>
          <aside class="hero-card" data-animate>
            <div class="kpi"><div class="kpi-number">12,540+</div><div class="kpi-label">people reached</div></div>
            <div class="kpi"><div class="kpi-number">86</div><div class="kpi-label">local partners</div></div>
            <div class="kpi"><div class="kpi-number">42</div><div class="kpi-label">active projects</div></div>
            <p class="muted small">Transparent metrics updated quarterly.</p>
          </aside>
        </div>
      </div>
    </section>

    <section id="about" class="section">
      <div class="container two-col">
        <div data-animate>
          <h2 class="balance">About Us</h2>
          <p class="measure">PUVELA is a nonprofit organization dedicated to four pillars:</p>
          <ul class="pillars">
            <li><strong>Poverty Relief:</strong> food security, micro-grants, skills training</li>
            <li><strong>Safety:</strong> emergency response, safety education, disaster readiness</li>
            <li><strong>Community Welfare:</strong> health outreach, education support, inclusion</li>
            <li><strong>Research:</strong> data collection, surveys, evidence-led policy</li>
          </ul>
          <p class="muted">Registered in Nigeria. We publish impact reports and financials annually.</p>
        </div>
        <aside class="card photo" data-animate>
          <img src="https://source.unsplash.com/800x600/?outreach,community" alt="Community members in a welfare program" loading="lazy"/>
          <figcaption class="muted small">Community outreach in action.</figcaption>
        </aside>
      </div>
    </section>

    <section id="programs" class="section alt">
      <div class="container">
        <h2 data-animate class="balance">Programs</h2>
        <div class="cards programs">
          <article class="card program" data-animate>
            <figure class="program-figure">
              <img src="https://source.unsplash.com/900x650/?food,distribution" alt="Poverty relief" loading="lazy"/>
              <figcaption class="overlay">
                <h3 class="balance">Poverty Relief</h3>
                <p class="measure">Direct assistance, livelihoods, and sustainable income programs.</p>
                <a class="overlay-btn" href="#">Learn more</a>
              </figcaption>
            </figure>
          </article>
          <article class="card program" data-animate style="--i:1">
            <figure class="program-figure">
              <img src="https://source.unsplash.com/900x650/?safety,training" alt="Safety program" loading="lazy"/>
              <figcaption class="overlay">
                <h3 class="balance">Safety</h3>
                <p class="measure">Community safety trainings and rapid response partnerships.</p>
                <a class="overlay-btn" href="#">Learn more</a>
              </figcaption>
            </figure>
          </article>
          <article class="card program" data-animate style="--i:2">
            <figure class="program-figure">
              <img src="https://source.unsplash.com/900x650/?health,education" alt="Welfare program" loading="lazy"/>
              <figcaption class="overlay">
                <h3 class="balance">Community Welfare</h3>
                <p class="measure">Health missions, education support, and inclusion initiatives.</p>
                <a class="overlay-btn" href="#">Learn more</a>
              </figcaption>
            </figure>
          </article>
          <article class="card program" data-animate style="--i:3">
            <figure class="program-figure">
              <img src="https://source.unsplash.com/900x650/?survey,research" alt="Research program" loading="lazy"/>
              <figcaption class="overlay">
                <h3 class="balance">Research</h3>
                <p class="measure">Surveys, impact evaluation, and open data publications.</p>
                <a class="overlay-btn" href="#">Learn more</a>
              </figcaption>
            </figure>
          </article>
        </div>
      </div>
    </section>

    <section id="impact" class="section">
      <div class="container">
        <h2 data-animate class="balance">Impact</h2>
        <div class="impact-grid">
          <div class="impact-card" data-animate><div class="impact-number">1,200</div><div class="impact-label">households supported</div></div>
          <div class="impact-card" data-animate style="--i:1"><div class="impact-number">3,500</div><div class="impact-label">safety kits distributed</div></div>
          <div class="impact-card" data-animate style="--i:2"><div class="impact-number">75</div><div class="impact-label">scholarships awarded</div></div>
          <div class="impact-card" data-animate style="--i:3"><div class="impact-number">12</div><div class="impact-label">research briefs</div></div>
        </div>
      </div>
    </section>

    <section id="news" class="section alt">
      <div class="container">
        <h2 data-animate class="balance">News & Stories</h2>
        <div class="cards">
          <article class="card" data-animate><h3 class="balance">Quarterly Impact Report</h3><p class="measure">We published our latest report with detailed program outcomes and finances.</p><a class="text-link" href="#">Read report →</a></article>
          <article class="card" data-animate style="--i:1"><h3 class="balance">Community Safety Week</h3><p class="measure">Volunteers trained 250 residents on emergency preparedness.</p><a class="text-link" href="#">See photos →</a></article>
          <article class="card" data-animate style="--i:2"><h3 class="balance">Open Data Portal</h3><p class="measure">We released anonymized survey data to support local research partners.</p><a class="text-link" href="#">Explore data →</a></article>
        </div>
      </div>
    </section>

    <section id="gallery" class="section full-bleed">
      <div class="container-wide">
        <h2 data-animate class="balance">Our Work in Pictures</h2>
        <div class="gallery">
          <figure data-animate><img src="https://source.unsplash.com/800x600/?ngo,aid" alt="Aid distribution" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?volunteer,community" alt="Volunteers working" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?health,outreach" alt="Health outreach" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?education,children" alt="School support" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?water,development" alt="Water & sanitation" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?emergency,relief" alt="Emergency relief" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?survey,research" alt="Field research" loading="lazy"/></figure>
          <figure data-animate><img src="https://source.unsplash.com/800x600/?collaboration,meeting" alt="Collaboration" loading="lazy"/></figure>
        </div>
      </div>
      <div id="lightbox" class="lightbox" hidden>
        <button class="lightbox-close" aria-label="Close">×</button>
        <img id="lightbox-img" alt="Expanded view"/>
      </div>
    </section>

    <section id="faq" class="section">
      <div class="container">
        <h2 data-animate class="balance">FAQ</h2>
        <div class="accordion">
          <details data-animate><summary><span>How do I donate?</span><span class="chev">▾</span></summary><div class="accordion-content"><p class="measure">Use the Donate buttons below or contact us for bank transfer details.</p></div></details>
          <details data-animate><summary><span>How can I volunteer?</span><span class="chev">▾</span></summary><div class="accordion-content"><p class="measure">Subscribe for opportunities or email hello@puvela.org.</p></div></details>
          <details data-animate><summary><span>Do you publish reports?</span><span class="chev">▾</span></summary><div class="accordion-content"><p class="measure">Yes — we publish annual reports and open data on our website.</p></div></details>
        </div>
      </div>
    </section>

    <section id="subscribe" class="section">
      <div class="container two-col">
        <div data-animate>
          <h2 class="balance">Subscribe to Updates</h2>
          <p class="measure">Get program updates, events, and opportunities in your inbox.</p>
          <form class="subscribe-form" action="#" method="post" onsubmit="alert('Replace with your provider embed or form action.'); return false;">
            <label for="email">Email address</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required />
            <button class="btn primary" type="submit">Subscribe</button>
          </form>
          <p class="muted small">Paste your provider embed here (EmailOctopus / beehiiv / ConvertKit).</p>
        </div>
        <aside class="card photo" data-animate>
          <img src="https://source.unsplash.com/800x600/?training,volunteers" alt="Volunteers at a training" loading="lazy"/>
          <figcaption class="muted small">Volunteers during safety training.</figcaption>
        </aside>
      </div>
    </section>

    <section id="donate" class="section alt">
      <div class="container two-col">
        <div data-animate>
          <h2 class="balance">Donate</h2>
          <p class="measure">Your support funds urgent relief, safety trainings, welfare programs, and research.</p>
          <div class="cta-row">
            <a class="btn primary" href="#">Donate via Paystack</a>
            <a class="btn" href="#">Donate via Flutterwave</a>
          </div>
          <p class="muted small">Replace the buttons with your live donation links.</p>
        </div>
        <aside class="card photo" data-animate>
          <img src="https://source.unsplash.com/800x600/?community,care" alt="Community care" loading="lazy"/>
          <figcaption class="muted small">Your gift makes a difference.</figcaption>
        </aside>
      </div>
    </section>

    <section id="community" class="section">
      <div class="container">
        <h2 data-animate class="balance">Community Comments</h2>
        <p class="muted">Powered by GitHub Discussions via <a href="https://giscus.app" target="_blank" rel="noreferrer noopener">Giscus</a>. Configure your repo details to enable.</p>
        <div class="card" data-animate><div id="comments"></div></div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="col">
        <strong>PUVELA</strong>
        <p class="muted small">Pioneering Universal Values Empowering Livelihood Aid</p>
        <p class="muted small">© <span id="year"></span> PUVELA. All rights reserved.</p>
      </div>
      <div class="col">
        <h4>About</h4>
        <ul>
          <li><a href="#about">Our mission</a></li>
          <li><a href="#programs">Programs</a></li>
          <li><a href="#impact">Impact</a></li>
          <li><a href="#community">Community</a></li>
        </ul>
      </div>
      <div class="col">
        <h4>Legal</h4>
        <ul>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Use</a></li>
          <li><a href="#">Disclaimer</a></li>
        </ul>
      </div>
      <div class="col">
        <h4>Contact</h4>
        <ul>
          <li><a href="mailto:hello@puvela.org">hello@puvela.org</a></li>
          <li>Lagos, Nigeria</li>
          <li><a href="#subscribe">Newsletter</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <button id="to-top" class="to-top" aria-label="Back to top">↑</button>

  <script>
  (function(){
    const burger = document.querySelector('.burger');
    const nav = document.getElementById('primary-nav');
    const reading = document.querySelector('.reading');
    const themeToggle = document.getElementById('theme-toggle');
    const dropdown = document.querySelector('.dropdown');
    const dropbtn = document.querySelector('.dropbtn');
    const mqHover = window.matchMedia('(hover: hover) and (pointer: fine)');

    if (burger && nav){
      burger.addEventListener('click', () => {
        const open = document.body.classList.toggle('nav-open');
        burger.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
      nav.querySelectorAll('a').forEach(a => a.addEventListener('click', () => {
        document.body.classList.remove('nav-open');
        burger.setAttribute('aria-expanded', 'false');
      }));
    }

    if (dropdown && dropbtn){
      if (mqHover.matches){
        dropdown.addEventListener('mouseenter', ()=> dropdown.classList.add('open'));
        dropdown.addEventListener('mouseleave', ()=> dropdown.classList.remove('open'));
      } else {
        dropbtn.addEventListener('click', ()=>{
          dropdown.classList.toggle('open');
          dropbtn.setAttribute('aria-expanded', dropdown.classList.contains('open') ? 'true' : 'false');
        });
      }
    }

    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if (el){
          e.preventDefault();
          const headerH = parseInt(getComputedStyle(document.body).getPropertyValue('--header-h')) || 72;
          const top = el.getBoundingClientRect().top + window.scrollY - (headerH + 18);
          window.scrollTo({ top, behavior:'smooth' });
          history.replaceState(null, '', '#'+id);
        }
      });
    });

    const toTop = document.getElementById('to-top');
    window.addEventListener('scroll', ()=>{
      const max = document.body.scrollHeight - window.innerHeight;
      const pct = Math.min(100, Math.max(0, (window.scrollY / max) * 100));
      if (reading) reading.value = pct;
      if (window.scrollY > 600){ toTop.classList.add('show'); } else { toTop.classList.remove('show'); }
    });
    toTop && toTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    const applyTheme = (dark) => {
      document.documentElement.classList.toggle('dark', dark);
      localStorage.setItem('theme', dark ? 'dark' : 'light');
      themeToggle?.setAttribute('aria-pressed', dark ? 'true' : 'false');
      const giscusFrame = document.querySelector('iframe.giscus-frame');
      if (giscusFrame){
        giscusFrame.contentWindow.postMessage({ giscus: { setConfig: { theme: dark ? 'dark_dimmed' : 'light' } } }, 'https://giscus.app');
      }
    };
    applyTheme(localStorage.getItem('theme')==='dark');
    themeToggle && themeToggle.addEventListener('click', ()=> applyTheme(!document.documentElement.classList.contains('dark')));
    window.addEventListener('keydown', (e)=>{ if(e.key==='T' && e.shiftKey){ applyTheme(!document.documentElement.classList.contains('dark')); }});

    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
    const closeBtn = document.querySelector('.lightbox-close');
    document.querySelectorAll('.gallery img').forEach(img=>{
      img.addEventListener('click', ()=>{
        lightboxImg.src = img.src;
        lightbox.removeAttribute('hidden');
      });
    });
    const close = ()=> lightbox.setAttribute('hidden','');
    closeBtn && closeBtn.addEventListener('click', close);
    lightbox && lightbox.addEventListener('click', (e)=>{ if(e.target===lightbox) close(); });

    // Randomize animations for ALL graphic items
    const animClasses = ['anim-rise','anim-left','anim-right','anim-zoom','anim-tilt','anim-float'];
    const animated = document.querySelectorAll('[data-animate], .card, .impact-card, .gallery figure, .program-figure img');
    animated.forEach((el)=>{
      const cls = animClasses[Math.floor(Math.random()*animClasses.length)];
      el.classList.add(cls);
      el.style.transitionDelay = (Math.random()*0.35).toFixed(2)+'s';
    });
    const io = new IntersectionObserver((entries)=>{
      for (const entry of entries){ if (entry.isIntersecting){ entry.target.classList.add('in'); io.unobserve(entry.target); } }
    }, {rootMargin: '-10% 0px -10% 0px', threshold: 0.05});
    animated.forEach(el=> io.observe(el));

    // Inject Giscus placeholder (disabled by default until configured)
    const comments = document.getElementById('comments');
    const g = document.createElement('div');
    g.innerHTML = '<em class="muted">To enable comments, configure Giscus with your GitHub repo and replace the script values.</em>';
    comments.appendChild(g);

    // Set hero background (fallback) if remote blocked
    const hero = document.querySelector('.hero');
    if (hero && getComputedStyle(hero).backgroundImage === 'none'){
      hero.style.setProperty('--hero', 'linear-gradient(135deg,#10b981,#0ea5e9)');
    }

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  })();
  </script>
</body>
</html>
